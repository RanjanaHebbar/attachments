//@ui5-bundle attachmentapp/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"attachmentapp/Component.js":function(){sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("attachmentapp.Component",{metadata:{manifest:"json"}})});
},
	"attachmentapp/ext/main/Main.controller.js":function(){sap.ui.define(["sap/fe/core/PageController"],function(e){"use strict";return e.extend("attachmentapp.ext.main.Main",{onInit:function(){},onAfterItemAdded:function(e){var t=e.getParameter("item");this._createEntity(t).then(e=>{this._uploadContent(t,e)}).catch(e=>{console.log(e)})},onUploadCompleted:function(e){var t=this.byId("uploadSet");t.removeAllIncompleteItems();t.getBinding("items").refresh()},onOpenPressed:function(e){},_createEntity:function(e){var t={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size};var n={url:"/odata/v4/attachments/Files",method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(t)};return new Promise((e,t)=>{$.ajax(n).done((t,n,a)=>{e(t.ID)}).fail(e=>{t(e)})})},_uploadContent:function(e,t){var n=`/odata/v4/attachments/Files(${t})/content`;e.setUploadUrl(n);var a=this.byId("uploadSet");a.setHttpRequestMethod("PUT");a.uploadItem(e)}})});
},
	"attachmentapp/ext/main/Main.view.xml":'<mvc:View xmlns:core="sap.ui.core" \nxmlns:mvc="sap.ui.core.mvc" \nxmlns="sap.m" \nxmlns:upload="sap.m.upload"\nxmlns:macros="sap.fe.macros"\nxmlns:html="http://www.w3.org/1999/xhtml" \ncontrollerName="attachmentapp.ext.main.Main"><App id="app"><pages><Page\n\t\t\t\tid="page"\n\t\t\t\ttitle="{i18n>Attachment}"\n\t\t\t><upload:UploadSet\n\t\t\t\t\tid="uploadSet"\n\t\t\t\t\tinstantUpload="false"\n\t\t\t\t\tuploadEnabled="true"\n\t\t\t\t\tafterItemAdded="onAfterItemAdded"\n\t\t\t\t\tuploadCompleted="onUploadCompleted"\t\t\t\t\n\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\tpath: \'/Files\',\n\t\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t\t$orderby: \'createdAt desc\'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateShareable: false}"\n\t\t\t\t><upload:toolbar></upload:toolbar><upload:items><upload:UploadSetItem id="item1"\n\t\t\t\t\t\t\tfileName="{fileName}"\n\t\t\t\t\t\t\tmediaType="{mediaType}"\n\t\t\t\t\t\t\turl="{url}"\n\t\t\t\t\t\t\tenabledEdit="true"\n\t\t\t\t\t\t\tvisibleEdit="true"\n\t\t\t\t\t\t\topenPressed="onOpenPressed"\n\t\t\t\t\t\t><upload:attributes><ObjectAttribute id="item2"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded By"\n\t\t\t\t\t\t\t\t\ttext="{createdBy}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="item3"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded on"\n\t\t\t\t\t\t\t\t\ttext="{createdAt}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="item4"\n\t\t\t\t\t\t\t\t\ttitle="File Size"\n\t\t\t\t\t\t\t\t\ttext="{size}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/></upload:attributes></upload:UploadSetItem></upload:items></upload:UploadSet></Page></pages></App></mvc:View>',
	"attachmentapp/i18n/i18n.properties":'# This is the resource bundle for attachmentapp\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=App Title\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Custom view title\nMainTitle=Main',
	"attachmentapp/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"attachmentapp","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:fpm","version":"1.12.3","toolsId":"fd45decc-bf96-4d9a-9db1-f4b0ec57f4ea"},"dataSources":{"mainService":{"uri":"odata/v4/attachments/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.120.7","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"attachmentapp.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"synchronizationMode":"None","operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"routes":[{"name":"FilesMain","pattern":":?query:","target":"FilesMain"}],"targets":{"FilesMain":{"type":"Component","id":"FilesMain","name":"sap.fe.core.fpm","options":{"settings":{"viewName":"attachmentapp.ext.main.Main","contextPath":"/Files"}}}}}},"sap.cloud":{"public":true,"service":"attach_mngd_approute"}}'
}});
